<template>
  <div class="container centered">
    <h1>Ajouter une recette</h1>
    <hr>
    <Form  @send="addRecipe"></Form>
  </div>
</template>

<script>
import Form from "./Form";
import RecipeService from "../services/RecipeService";

export default {
  name: "Add",
  components: {
    Form
  },
  
  methods: {
    addRecipe: function(recipe) {
      // Le formulaire est valide, on prÃ©pare donc l'envoi des donnÃ©es au serveur
      RecipeService.addRecipe(recipe)
        .then(() => {
          // Redirige le visiteur vers la page de listing
          this.$router.replace("/list");
          this.$toasted.success("Recette correctement ajoutÃ© ğŸ˜‰ !");
        })
        .catch(({ message }) => this.$toasted.error(message));
    }
  }
};
</script>

<style scoped>
</style>
